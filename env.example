# OpenAI
OPENAI_API_KEY=sk-xxxxxxx
# OPENAI_BASE_URL はスキーム付きで指定してください（例: https://api.openai.com/v1）。
# スキームが無い場合は http:// が自動補完されます。
OPENAI_BASE_URL=
OPENAI_MODEL=gpt-5-mini
# OPENAI_TEMPERATURE は温度可変モデルのみ有効 (0.0～2.0)。gpt-5-mini など固定モデルでは無視されます。
OPENAI_TEMPERATURE=0.3
# gpt-5 系モデルを利用する際に応答の詳細度を制御する。low / medium / high から選択。
OPENAI_VERBOSITY=
# gpt-5 系モデル向けの推論強度。low / medium / high を指定し、空欄なら API 既定値。
OPENAI_REASONING_EFFORT=
# Responses API 呼び出しのタイムアウト秒数。通信断検知と再計画を迅速化する。
LLM_TIMEOUT_SECONDS=30

# LangSmith Tracing
LANGSMITH_ENABLED=false
LANGSMITH_API_URL=https://api.smith.langchain.com
LANGSMITH_PROJECT=mc-bot
LANGSMITH_API_KEY=
# カンマ区切りでタグを指定。空欄ならタグなし。
LANGSMITH_TAGS=self-dialogue,minedojo

# WebSocket (Python -> Node)
WS_URL=ws://node-bot:8765
WS_HOST=0.0.0.0
WS_PORT=8765

# WebSocket (Node -> Python)
AGENT_WS_HOST=0.0.0.0
AGENT_WS_PORT=9000
AGENT_WS_URL=ws://python-agent:9000
AGENT_WS_CONNECT_TIMEOUT_MS=5000
AGENT_WS_SEND_TIMEOUT_MS=5000
AGENT_WS_HEALTHCHECK_INTERVAL_MS=15000
AGENT_WS_RECONNECT_DELAY_MS=2000
AGENT_WS_MAX_RETRIES=3
AGENT_EVENT_BATCH_INTERVAL_MS=250
AGENT_EVENT_BATCH_MAX_SIZE=10
AGENT_EVENT_QUEUE_MAX_SIZE=200
DEFAULT_MOVE_TARGET=0,64,0
# 構造化イベントおよび perception スナップショットの保持件数（LangGraph の文脈共有に使用）。
STRUCTURED_EVENT_HISTORY_LIMIT=10
PERCEPTION_HISTORY_LIMIT=5
# Mineflayer 側で周囲認知に利用するスキャン設定
PERCEPTION_ENTITY_RADIUS=12
PERCEPTION_BLOCK_RADIUS=4
PERCEPTION_BLOCK_HEIGHT=2
PERCEPTION_BROADCAST_INTERVAL_MS=1500
# 空腹度がこの値以下のとき LangGraph で警告を付与する。
LOW_FOOD_THRESHOLD=6
# キューの最大保持件数。0 にすると無制限。新しい指示を優先したい場合は小さめに設定する。
AGENT_QUEUE_MAX_SIZE=20
# チャット 1 件の処理タイムアウト秒数。長時間ブロックを避け、必要な場合のみ再試行する。
WORKER_TASK_TIMEOUT_SECONDS=300

# Control Mode (Mineflayer)
#   command: 従来のコマンド駆動のみ
#   vpt: VPT 再生のみ（通常コマンドは利用しない）
#   hybrid: コマンドを既定にしつつ、hybrid 指示や VPT テストを許可
CONTROL_MODE=command
VPT_TICK_INTERVAL_MS=50
VPT_MAX_SEQUENCE_LENGTH=240
SKILL_LIBRARY_PATH=var/skills/library.json
SKILL_HISTORY_PATH=var/skills/history.ndjson

# Minecraft Server
MC_HOST=127.0.0.1
MC_PORT=25565
MC_VERSION=1.21.1
MC_RECONNECT_DELAY_MS=5000

# AgentBridge HTTP Bridge
BRIDGE_URL=http://127.0.0.1:19071
BRIDGE_API_KEY=CHANGE_ME
BRIDGE_HTTP_TIMEOUT=3.0
BRIDGE_HTTP_RETRY=3
BRIDGE_EVENT_STREAM_ENABLED=true
BRIDGE_EVENT_STREAM_PATH=/v1/events/stream
BRIDGE_EVENT_STREAM_RECONNECT_DELAY=3.0

# Observability / OpenTelemetry
# OTLP コレクターのエンドポイント。未設定時は http://localhost:4318 を想定する。
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
# トレースのサンプリング率 (0.0～1.0)。1.0 で全件出力。
OTEL_TRACES_SAMPLER_RATIO=1.0
# Mineflayer 側のサービス名とデプロイ環境。Collector 上のフィルタリングに活用する。
OTEL_SERVICE_NAME=mc-node-bot
OTEL_RESOURCE_ENVIRONMENT=development

# MineDojo Simulation Defaults
MINEDOJO_API_BASE_URL=https://api.minedojo.org/v1
MINEDOJO_CACHE_DIR=var/cache/minedojo
MINEDOJO_API_KEY=
MINEDOJO_DATASET_DIR=
MINEDOJO_REQUEST_TIMEOUT=10.0
MINEDOJO_SIM_ENV=creative
MINEDOJO_SIM_SEED=42
MINEDOJO_SIM_MAX_STEPS=120

# Tunnel Mode Defaults
TUNNEL_TORCH_INTERVAL=8
TUNNEL_FUNCTIONAL_NEAR_RADIUS=4
TUNNEL_LIQUIDS_STOP=true
TUNNEL_WINDOW_LENGTH=8

# Bot Auth / Identity
BOT_USERNAME=HelperBot
AUTH_MODE=offline
